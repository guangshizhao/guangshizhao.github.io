(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9edb8df8"],{"585f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("layContent",[a("layContentHeader",{attrs:{title:"文档审核",buttons:e.headerBtns}}),a("dataTable",{ref:"childDataTable",attrs:{headers:e.headers,DataSource:e.DataSource,total:e.totalDatas,sort:!0,hideOperation:!0},on:{initialize:e.initialize}})],1),a("v-dialog",{attrs:{"max-width":"1000px",persistent:!0,scrollable:""},model:{value:e.IsShow,callback:function(t){e.IsShow=t},expression:"IsShow"}},[a("v-card",[a("v-card-title",{staticClass:"primary"},[a("span",{staticClass:"headline",staticStyle:{color:"#fff"}},[e._v("文档审核")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},e._l(e.showItemFileds,(function(t){return a("v-flex",{key:t.id,attrs:{xs6:""}},[a("v-layout",{attrs:{row:"","align-center":"","justify-start":""}},[a("v-flex",{attrs:{xs4:""}},[a("label",{staticStyle:{color:"gray"}},[e._v(e._s(t.name)+":")])]),a("v-flex",{attrs:{xs8:""}},[a("label",{staticStyle:{color:"black"}},[e._v(e._s(e.showItem[t.field]))])])],1)],1)})),1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticStyle:{"margin-right":"30px"},attrs:{color:"primary"},on:{click:function(t){return e.permit()}}},[e._v("通过审核")]),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.modalClosed()}}},[e._v("取消")])],1)],1)],1)],1)},r=[],n=(a("0b34"),a("5cbc")),l=a("8333"),c=a("a2a7"),s=a("f05f"),o=a("1e17"),d=a("07c5"),u=a("d5b3"),b=(new l["a"](new n["a"]),{name:"documentReview",components:{contentModal:c["a"],dataTable:s["a"],layContent:o["a"],layContentHeader:d["a"]},data:function(){var e=this;return{headerBtns:[{disabled:!(-1!=JSON.parse(sessionStorage.getItem("permission")).findIndex((function(e){return"/api/DocumentReview"==e.pvalue&&"审核"==e.pname}))),text:"审核",icon:"self_refresh",click:function(){return e.review()}}],DataSource:[],totalDatas:1,IsShow:!1,showItem:{},headers:[{text:"序号",value:"",align:"center",sortable:!1},{text:"文档编号",value:"docuCode",align:"center",sortable:!1},{text:"文档名称",value:"dname",align:"center",sortable:!1},{text:"所属模块",value:"module",align:"center",sortable:!1},{text:"更新人",value:"creatorName",align:"center",sortable:!1},{text:"更新时间",value:"newestDate",align:"center",sortable:!1},{text:"审批状态",value:"validStatusName",align:"center",sortable:!1}],showItemFileds:[{id:"1",field:"docuCode",name:"文档编号"},{id:"2",field:"dname",name:"文档名称"},{id:"3",field:"type",name:"文档类型"},{id:"4",field:"creatorName",name:"上传人"},{id:"5",field:"newestDate",name:"更新日期"},{id:"6",field:"docuDescription",name:"描述"}]}},mounted:function(){},methods:{initialize:function(){var e=this,t=this.$refs.childDataTable.getPagination(),a=t.page,i=t.rowsPerPage;this.$Server.queryAll("DocumentReview",{page:a,rowsPerPage:i}).then((function(t){e.$refs.childDataTable.unCheckItems(),e.DataSource=t.datas,e.totalDatas=t.page.total}),(function(e){return u["a"].alert(e)}))},review:function(){var e=this.$refs.childDataTable.getCheckItems();1==e.length?(this.showItem=e[0],this.IsShow=!0):u["a"].alert("请选择一项")},edit:function(e,t){e.validStatus=t?2:1;var a=this;a.$Server.addOrUpdate("DocumentReview",e,!0).then((function(e){e.success&&(u["a"].alert("审核成功","success"),a.IsShow=!1,a.initialize())}),(function(e){u["a"].alert(e)}))},permit:function(){var e=JSON.parse(JSON.stringify(this.showItem));this.edit(e,!0)},unpermit:function(){var e=JSON.parse(JSON.stringify(this.showItem));this.edit(e,!1)},modalClosed:function(){this.IsShow=!1}}}),f=b,h=a("6691"),m=Object(h["a"])(f,i,r,!1,null,null,null);t["default"]=m.exports},"5cbc":function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var i=a("7300"),r=a("5873"),n=a("ddf2"),l=a("80ea"),c=a("ae0a"),s=a("97a3"),o=a("652a"),d=a("1269"),u=new o["a"],b=function(e){function t(){var e,a;Object(i["a"])(this,t);for(var c=arguments.length,o=new Array(c),d=0;d<c;d++)o[d]=arguments[d];return a=Object(r["a"])(this,(e=Object(n["a"])(t)).call.apply(e,[this].concat(o))),Object(s["a"])(Object(l["a"])(a),"__name","Document"),Object(s["a"])(Object(l["a"])(a),"docuCode",u.charField({require:!0,fieldName:"文档编号"})),Object(s["a"])(Object(l["a"])(a),"dname",u.charField({require:!0,fieldName:"文档名称"})),Object(s["a"])(Object(l["a"])(a),"creatorName",u.charField({require:!0,fieldName:"上传人"})),Object(s["a"])(Object(l["a"])(a),"docuDescription",u.charField({require:!0,fieldName:"描述"})),Object(s["a"])(Object(l["a"])(a),"newestDate",u.charField({require:!0,fieldName:"最后更新日期"})),Object(s["a"])(Object(l["a"])(a),"newestVersion",u.charField({require:!0,fieldName:"最新版本"})),Object(s["a"])(Object(l["a"])(a),"category",u.charField({require:!0,fieldName:"类别",visible:!1})),Object(s["a"])(Object(l["a"])(a),"creatorLoginName",u.charField({require:!0,fieldName:"上传人工号",visible:!1})),Object(s["a"])(Object(l["a"])(a),"newestFileId",u.charField({require:!0,fieldName:"最新文件id",visible:!1})),Object(s["a"])(Object(l["a"])(a),"newestFileExt",u.charField({require:!0,fieldName:"最新文件后缀",visible:!1})),Object(s["a"])(Object(l["a"])(a),"newestFilePath",u.charField({require:!0,fieldName:"最新文件路径",visible:!1})),Object(s["a"])(Object(l["a"])(a),"newestFileSize",u.charField({require:!0,fieldName:"最新文件大小",visible:!1})),Object(s["a"])(Object(l["a"])(a),"docuFile",u.charField({require:!0,fieldName:"最新文件流",visible:!1})),a}return Object(c["a"])(t,e),t}(d["a"])}}]);