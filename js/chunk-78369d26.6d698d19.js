(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78369d26","chunk-2d0cc437","chunk-2d21b499"],{"4cd6":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("layContentHeader",{attrs:{title:"已办任务",buttons:e.headerBtns}},[a("v-text-field",{staticStyle:{width:"340px"},attrs:{label:"请输入详情或任务名称或流程名称","hide-details":"","single-line":"",primary:"",clearable:""},on:{"click:clear":e.clearMessage},scopedSlots:e._u([{key:"append-outer",fn:function(){return[a("v-icon",{on:{click:function(t){return e.doSearch()}}},[e._v("search")])]},proxy:!0}]),model:{value:e.searchfx,callback:function(t){e.searchfx=t},expression:"searchfx"}})],1),a("layContent",[a("dataTable",{ref:"childDataTable",attrs:{headers:e.headers,DataSource:e.DataSource,total:e.total,hideOperation:!0,sort:!0,allowActive:!0},on:{initialize:e.initialize}})],1),a("contentModal",{attrs:{title:"查看任务进度",IsShow:e.IsShowForSeeResult,width:"1100",isDetails:!0},on:{modalClosed:function(t){return e.modalClosedForSeeResult()}}},[a("div",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:e.imagesrc}})])])],1)},n=[],i=a("e3b8"),s=a("551a"),o=a("bd12"),c=a("09fd"),l=a("01ee"),u=a("776f"),d={name:"processOverTask",data:function(){var e=this;return{searchfx:"",total:0,DataSource:[],imagesrc:"",IsShowForSeeResult:!1,headerBtns:[{disabled:!1,text:"查看任务进度",icon:"self_look",click:function(){return e.seeImage()}}],headers:[{text:"序号",align:"center",sortable:!1},{text:"任务名称",align:"center",sortable:!1,value:"name"},{text:"流程名称",align:"center",sortable:!1,value:"processDefinitionName"},{text:"创建时间",align:"center",sortable:!1,value:"createTime"},{text:"截止时间",align:"center",sortable:!1,value:"dueDate"}],activeItem:{}}},mounted:function(){},methods:{clearMessage:function(){this.searchfx="",this.doSearch()},doSearch:function(){var e=this.$refs.childDataTable.getPagination();1==e.page?this.initialize(e):this.$refs.childDataTable.setPage(1)},initialize:function(e){var t=this,a=t.searchfx?encodeURI("%"+t.searchfx+"%"):"";s["a"].http(window.processForUrl.getUrlForHistory(e.page,e.rowsPerPage)+"&queryText="+a,"get",{},{success:function(e){t.DataSource=e.data.data.rows,t.total=e.data.data.total,t.$refs.childDataTable.setActiveItem([])},error:function(e){o["a"].alert(e)}})},modalClosedForSeeResult:function(){this.IsShowForSeeResult=!1},seeImage:function(){var e=this,t=this.$refs.childDataTable.getActiveItem();t&&!Array.isArray(t)&&t.id?s["a"].http(window.processForUrl.getUrlForTaskTrace(t.id),"get",{},{success:function(t){e.imagesrc=t.data.data.image,e.IsShowForSeeResult=!0},error:function(e){o["a"].alert(e)}}):o["a"].alert("请选择一项作为你操作的对象！")}},components:{dataTable:i["a"],layContent:c["a"],layContentHeader:l["a"],contentModal:u["a"]}},h=d,f=a("6691"),m=Object(f["a"])(h,r,n,!1,null,null,null);t["default"]=m.exports},"6ee9":function(e,t,a){},"764e":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%"}},[a("v-tabs",{staticClass:"selftabs",staticStyle:{height:"100%"},attrs:{"slider-color":"primary"},model:{value:e.actives,callback:function(t){e.actives=t},expression:"actives"}},[a("v-tab",{key:1,on:{click:function(t){return e.refresh(1)}}},[e._v("\n      待办任务\n    ")]),a("v-tab",{key:2,on:{click:function(t){return e.refresh(2)}}},[e._v("\n      已办任务\n    ")]),a("v-tab",{key:3,on:{click:function(t){return e.refresh(3)}}},[e._v("\n      我发起的\n    ")]),a("v-tab-item",{key:1,staticStyle:{height:"100%"}},[e.onePanel?a("processTask"):e._e()],1),a("v-tab-item",{key:2,staticStyle:{height:"100%"}},[e.twoPanel?a("processOverTask"):e._e()],1),a("v-tab-item",{key:3,staticStyle:{height:"100%"}},[e.threePanel?a("processLaunchTaskForMe"):e._e()],1)],1)],1)},n=[],i=a("beaa"),s=a("4cd6"),o=a("9c3d"),c={name:"schedule",data:function(){return{actives:null,headerBtns:[],onePanel:!0,twoPanel:!1,threePanel:!1}},components:{processTask:i["default"],processOverTask:s["default"],processLaunchTaskForMe:o["default"]},methods:{refresh:function(e){var t=this;1==e?(t.onePanel=!1,t.$nextTick((function(){t.onePanel=!0}))):2==e?(t.twoPanel=!1,t.$nextTick((function(){t.twoPanel=!0}))):3==e&&(t.threePanel=!1,t.$nextTick((function(){t.threePanel=!0})))}}},l=c,u=(a("8c09"),a("6691")),d=Object(u["a"])(l,r,n,!1,null,null,null);t["default"]=d.exports},"8c09":function(e,t,a){"use strict";var r=a("6ee9"),n=a.n(r);n.a},beaa:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("layContentHeader",{attrs:{title:"待办任务",buttons:e.headerBtns}},[a("v-text-field",{staticStyle:{width:"340px"},attrs:{label:"请输入任务名称或流程名称","hide-details":"","single-line":"",primary:"",clearable:""},on:{"click:clear":e.clearMessage},scopedSlots:e._u([{key:"append-outer",fn:function(){return[a("v-icon",{on:{click:function(t){return e.doSearch()}}},[e._v("search")])]},proxy:!0}]),model:{value:e.searchfx,callback:function(t){e.searchfx=t},expression:"searchfx"}})],1),a("layContent",[a("dataTable",{ref:"childDataTable",attrs:{headers:e.headers,DataSource:e.DataSource,total:e.total,hideOperation:!0,sort:!0,allowActive:!0},on:{initialize:e.initialize,rowDbClick:e.startProcessTask}})],1),a(e.currentView,{ref:"componentForm",tag:"component",attrs:{itemDetail:e.itemDetail,commentSource:e.commentSource,PreviewType:2},on:{modalComfirmed:e.formComfirmed}})],1)},n=[],i=(a("e6d1"),a("e3b8")),s=a("551a"),o=a("bd12"),c=a("09fd"),l=a("01ee"),u={name:"processTask",data:function(){var e=this;return{searchfx:"",total:0,DataSource:[],formData:{},IsPreview:!1,commentSource:[],itemDetail:{},currentView:"",businessKey:"",processInstanceId:"",headerBtns:[{disabled:!1,text:"执行",icon:"self_execute",click:function(){return e.startProcessTask()}}],headers:[{text:"序号",align:"center",sortable:!1},{text:"任务名称",align:"center",sortable:!1,value:"name"},{text:"创建时间",align:"center",sortable:!1,value:"createTime"},{text:"计划完成时间",align:"center",sortable:!1,value:"dueDate"},{text:"流程名称",align:"center",sortable:!1,value:"processDefinitionName"}],activeItem:{}}},mounted:function(){},methods:{clearMessage:function(){this.searchfx="",this.doSearch()},doSearch:function(){var e=this.$refs.childDataTable.getPagination();1==e.page?this.initialize(e):this.$refs.childDataTable.setPage(1)},initialize:function(e){var t=this,a=t.searchfx?encodeURI("%"+t.searchfx+"%"):"";s["a"].http(window.processForUrl.getUrlForTodos(e.page,e.rowsPerPage)+"&queryText="+a,"get",{},{success:function(e){t.DataSource=e.data.data.rows,t.total=e.data.data.total,t.$refs.childDataTable.setActiveItem([])},error:function(e){o["a"].alert(e)}})},getQueryStringArgs:function(e){if(e&&e.length>0){var t=e.length>0?e.substring(1):"",a={},r=t.length?t.split("&"):[],n=null,i=null,s=null,o=0,c=r.length;for(o=0;o<c;o++)n=r[o].split("="),i=decodeURIComponent(n[0]),s=decodeURIComponent(n[1]),i.length&&(a[i]=s);return a}return{}},startProcessTask:function(){var e=this,t=this.$refs.childDataTable.getActiveItem();e.itemDetail=t,t&&!Array.isArray(t)&&t.id?s["a"].http(window.processForUrl.getUrlForTask(t.id),"get","",{success:function(t){var a=t.data.data,r=t.data.data.formKey;e.commentSource=a.comments;var n={};void 0!=r&&null!=r&&r.indexOf("?")>-1&&(n=e.getQueryStringArgs(r.substring(r.indexOf("?"),r.length)),r=r.substring(0,r.indexOf("?")));var i=e.$getFrom("baseForm");i&&-1!=i&&(e.currentView=i,setTimeout((function(){e.$refs.componentForm.modalOpen(r,n,a)}),200))},error:function(e){o["a"].alert(e)}}):o["a"].alert("请选择一项作为你操作的对象！")},formComfirmed:function(){this.initialize({page:1,rowsPerPage:10})}},components:{dataTable:i["a"],layContent:c["a"],layContentHeader:l["a"]}},d=u,h=a("6691"),f=Object(h["a"])(d,r,n,!1,null,null,null);t["default"]=f.exports}}]);