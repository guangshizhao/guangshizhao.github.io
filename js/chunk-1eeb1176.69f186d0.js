(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1eeb1176"],{"01ee":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ko-toolbar layHeader"},[a("span",{staticClass:"layHeaderTitle"},[a("img",{attrs:{src:i("54e6")}}),e._v(e._s(e.title))]),a("span",{staticClass:"ko-toolbar-item text-xs-right",staticStyle:{margin:"10px 0px 0px 0px"}},[e._l(e.buttons,(function(t,i){return a("span",{key:i,staticClass:"mainbtnsgroup"},[a("v-btn",{key:i,class:e.getLastClass(i,e.buttons.length),attrs:{flat:"",small:"",disabled:t.disabled},on:{click:t.click}},[a("v-icon",{class:t.icon,attrs:{center:"",default:"",small:""}}),e._v(e._s(t.text)+"\n      ")],1),e.buttons.length>i+1?a("span",{staticClass:"line"}):e._e()],1)})),e.buttons&&e.buttons.length>0?a("span",{staticClass:"btnsgroup"},[a("v-menu",{attrs:{"open-on-hover":"",bottom:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{flat:"",small:""}},i),[a("v-icon",{staticClass:"self_execute",attrs:{center:"",default:"",small:""}}),e._v("操作\n          ")],1)]}}],null,!1,3919890941)},[a("v-list",e._l(e.buttons,(function(t,i){return a("v-list-tile",{key:i,attrs:{disabled:t.disabled},on:{click:t.click}},[a("v-list-tile-title",[a("v-icon",{class:t.icon,attrs:{center:"",default:"",small:""}}),a("span",{staticStyle:{"font-size":"13px"}},[e._v(e._s(t.text))])],1)],1)})),1)],1)],1):e._e(),a("span",{staticClass:"rightgroup"},[e._t("default")],2)],2)])},n=[],l={data:function(){return{searchValue:""}},methods:{getLastClass:function(e,t){var i=t==e+1,a={};return a["lastbtn"]=i,a["mb-2"]=!0,a}},props:{title:{type:String},buttons:{type:Array},allowSearch:{type:Boolean,default:!1},searchLabel:{type:String,default:"搜索"}},watch:{searchValue:{handler:function(e){this.$emit("doSearch",e)}}}},s=l,c=(i("99c8"),i("6691")),o=Object(c["a"])(s,a,n,!1,null,"4ecd25ad",null);t["a"]=o.exports},"09fd":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._t("default")],2)},n=[],l=i("6691"),s={},c=Object(l["a"])(s,a,n,!1,null,"524e1b7a",null);t["a"]=c.exports},"54e6":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3MDZjNjU1MS0zNzJjLTAwNDEtOWU4MS0yYjg0OTEwMGFmN2EiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTUxNTRDRDY2MDI0MTFFOThDMUY5Qjk3Q0NDQTg0RkYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTUxNTRDRDU2MDI0MTFFOThDMUY5Qjk3Q0NDQTg0RkYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzJlNzRjMDMtZTkyZi05MTQ0LWE3OTktYTBmZmY3YzZkNGQyIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6YmFiMDYzNmUtNWQwMS0xMWU5LThjYjAtY2MzMGVmZjk1M2RmIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+cd3VswAAAGVJREFUeNpiDI+IYQACVSDuAGIXBgjYA8QVQHybBUioA/EJIBZgQIAgIHYCYgsmINGGJgkDILE2JiRjsQE3JgYCgAnqIFxgF0hBNRB/wCIJEqsGKbgBci0QrwPiz1C8Dip2AyDAAODfEUzOlukeAAAAAElFTkSuQmCC"},"99c8":function(e,t,i){"use strict";var a=i("f282"),n=i.n(a);n.a},d2e7:function(e,t,i){},de37:function(e,t,i){"use strict";var a=i("d2e7"),n=i.n(a);n.a},e3b8:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{attrs:{light:""}},[i("v-data-table",{attrs:{headers:e.headers,items:e.DataSource,pagination:e.pagination,"total-items":e.totalDatas,"item-key":"id",loading:e.IsLoading,"hide-actions":"","select-all":!e.allowActive,"rows-per-page-items":e.perPage,"no-data-text":"",search:e.search},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[e.allowActive?i("tr",{class:e.setBackground(t),on:{dblclick:function(i){return e.rowDbClick(t.item,t)},click:function(i){return e.setActiveItem(t.item,t,0)}}},[e.allowActive?e._e():i("td",[i("v-checkbox",{attrs:{"input-value":t.selected,primary:"","hide-details":""},on:{click:function(i){return i.stopPropagation(),e.setActiveItem(t.item,t,1)}}})],1),e.sort?i("td",{staticClass:"text-xs-center"},[e._v(e._s(t.index+1))]):e._e(),e._l(e.fheader,(function(a){return i("td",{directives:[{name:"show",rawName:"v-show",value:a.value!=e.mergeConfig[t.index].field||e.mergeConfig[t.index].isHead,expression:"h.value!=mergeConfig[props.index].field||mergeConfig[props.index].isHead"}],key:a.value,staticClass:"text-xs-center"},["addOrDelete"==a.value?i("div",{key:t.index,on:{click:function(e){e.stopPropagation()}}},[i("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(i){return e.addItem(t.item)}}},[e._v("\n                            add\n                        ")]),e._v("\n                        "+e._s(t.item[a.value])+"\n                        "),i("v-icon",{attrs:{small:""},on:{click:function(i){return e.removeItem(t.item)}}},[e._v("\n                            remove\n                        ")])],1):"comboboxField"==a.fieldType&&1==a.inlineEdit&&1==a.object&&1==a.isMultiple?i("div",{key:t.index,staticStyle:{width:"220px",margin:"auto"},on:{click:function(e){e.stopPropagation()}}},[i("v-select",{attrs:{items:a.comboboxSelect,"item-text":a.itemtext,"return-object":"",multiple:""},scopedSlots:e._u([{key:"selection",fn:function(n){var l=n.item,s=n.index;return[0===s?i("v-chip",[i("span",[e._v(e._s(l[a.itemtext]))])]):e._e(),1===s?i("span",{staticClass:"grey--text caption"},[e._v("(+"+e._s(t.item[a.value].length-1)+")")]):e._e()]}}],null,!0),model:{value:t.item[a.value],callback:function(i){e.$set(t.item,a.value,i)},expression:"props.item[h.value]"}})],1):"comboboxField"==a.fieldType&&1==a.inlineEdit&&1==a.object&&0==a.isMultiple?i("div",{key:t.index,staticStyle:{width:"200px",margin:"auto"},on:{click:function(e){e.stopPropagation()}}},[i("v-select",{attrs:{items:a.comboboxSelect,"item-text":a.itemtext,"return-object":""},model:{value:t.item[a.value],callback:function(i){e.$set(t.item,a.value,i)},expression:"props.item[h.value]"}})],1):"comboboxField"==a.fieldType&&1==a.inlineEdit&&0==a.object?i("div",{key:t.index,on:{click:function(e){e.stopPropagation()}}},[i("v-select",{attrs:{items:t.item[a.comboboxSelect],"item-text":a.itemtext,"item-value":a.itemvalue},model:{value:t.item[a.value],callback:function(i){e.$set(t.item,a.value,i)},expression:"props.item[h.value]"}})],1):Array.isArray(t.item[a.value])?i("table",{staticClass:"tableInside",staticStyle:{margin:"0px auto"}},e._l(t.item[a.value],(function(t,a){return i("tr",{key:a,staticStyle:{"background-color":"transparent !important"}},[e._v("\n                            "+e._s(t)+"\n                        ")])})),0):e.formatFields&&e.formatFields[a.value]?i("span",[e._v(e._s(e.formatFields[a.value](t.item[a.value])))]):i("span",{domProps:{innerHTML:e._s(t.item[a.value])}})])})),e.hideOperation?e._e():i("td",{staticClass:"justify-center layout px-0"},[i("v-btn",{on:{click:function(i){return e.rowClick(t.item)}}},[e._v(e._s(e.btLabel))])],1)],2):i("tr",{attrs:{active:t.selected},on:{dblclick:function(i){return e.rowDbClick(t.item,t)},click:function(i){return e.setActiveItem(t.item,t,0)}}},[e.allowActive?e._e():i("td",{staticClass:"selftable_checkbox",attrs:{width:"30"}},[i("v-checkbox",{attrs:{"input-value":t.selected,primary:"","hide-details":""},on:{click:function(i){return i.stopPropagation(),e.setActiveItem(t.item,t,1)}}})],1),e.sort?i("td",{staticClass:"text-xs-center",attrs:{width:"30"}},[e._v(e._s(t.index+1))]):e._e(),e._l(e.fheader,(function(a){return i("td",{directives:[{name:"show",rawName:"v-show",value:a.value!=e.mergeConfig[t.index].field||e.mergeConfig[t.index].isHead,expression:"h.value!=mergeConfig[props.index].field||mergeConfig[props.index].isHead"}],key:a.value,staticClass:"text-xs-center"},["addOrDelete"==a.value?i("div",{key:t.index,on:{click:function(e){e.stopPropagation()}}},[i("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(i){return e.addItem(t.item)}}},[e._v("\n                            add\n                        ")]),e._v("\n                        "+e._s(t.item[a.value])+"\n                        "),i("v-icon",{attrs:{small:""},on:{click:function(i){return e.removeItem(t.item)}}},[e._v("\n                            remove\n                        ")])],1):"comboboxField"==a.fieldType&&1==a.inlineEdit&&1==a.object&&1==a.isMultiple?i("div",{key:t.index,staticStyle:{width:"220px",margin:"auto"},on:{click:function(e){e.stopPropagation()}}},[i("v-select",{attrs:{items:a.comboboxSelect,"item-text":a.itemtext,"return-object":"",multiple:""},scopedSlots:e._u([{key:"selection",fn:function(n){var l=n.item,s=n.index;return[0===s?i("v-chip",[i("span",[e._v(e._s(l[a.itemtext]))])]):e._e(),1===s?i("span",{staticClass:"grey--text caption"},[e._v("(+"+e._s(t.item[a.value].length-1)+")")]):e._e()]}}],null,!0),model:{value:t.item[a.value],callback:function(i){e.$set(t.item,a.value,i)},expression:"props.item[h.value]"}})],1):"comboboxField"==a.fieldType&&1==a.inlineEdit&&1==a.object&&0==a.isMultiple?i("div",{key:t.index,staticStyle:{width:"200px",margin:"auto"},on:{click:function(e){e.stopPropagation()}}},[i("v-select",{attrs:{items:a.comboboxSelect,"item-text":a.itemtext,"return-object":""},model:{value:t.item[a.value],callback:function(i){e.$set(t.item,a.value,i)},expression:"props.item[h.value]"}})],1):"comboboxField"==a.fieldType&&1==a.inlineEdit&&0==a.object&&1==a.isMultiple?i("div",{key:t.index,staticStyle:{width:"200px",margin:"auto"},on:{click:function(e){e.stopPropagation()}}},[i("v-select",{attrs:{items:a.comboboxSelect,"item-text":a.itemtext,"item-value":a.itemvalue,multiple:""},scopedSlots:e._u([{key:"selection",fn:function(n){var l=n.item,s=n.index;return[0===s?i("v-chip",[i("span",[e._v(e._s(l[a.itemtext]))])]):e._e(),1===s?i("span",{staticClass:"grey--text caption"},[e._v("(+"+e._s(t.item[a.value].length-1)+")")]):e._e()]}}],null,!0),model:{value:t.item[a.value],callback:function(i){e.$set(t.item,a.value,i)},expression:"props.item[h.value]"}})],1):"comboboxField"==a.fieldType&&1==a.inlineEdit&&0==a.object?i("div",{key:t.index,on:{click:function(e){e.stopPropagation()}}},[i("v-select",{attrs:{items:t.item[a.comboboxSelect],"item-text":a.itemtext,"item-value":a.itemvalue},model:{value:t.item[a.value],callback:function(i){e.$set(t.item,a.value,i)},expression:"props.item[h.value]"}})],1):Array.isArray(t.item[a.value])?i("table",{staticClass:"tableInside",staticStyle:{margin:"0px auto"}},e._l(t.item[a.value],(function(t,a){return i("tr",{key:a,staticStyle:{"background-color":"transparent !important"}},[e._v("\n                            "+e._s(t)+"\n                        ")])})),0):e.formatFields&&e.formatFields[a.value]?i("span",[e._v(e._s(e.formatFields[a.value](t.item[a.value])))]):i("span",{domProps:{innerHTML:e._s(t.item[a.value])}})])})),e.hideOperation?e._e():i("td",{staticClass:"justify-center layout px-0"},[i("v-btn",{on:{click:function(i){return e.rowClick(t.item)}}},[e._v(e._s(e.btLabel))])],1)],2)]}},e.childheaders&&e.childheaders.length>0?{key:"expand",fn:function(t){return[t.item["children"]&&t.item["children"].length>0?i("v-data-table",{staticClass:"elevation-1",staticStyle:{margin:"5px 10px"},attrs:{headers:e.childheaders,items:t.item["children"],"select-all":!e.allowActiveChildren,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[i("tr",[e.allowActiveChildren?e._e():i("td",[i("v-checkbox",{attrs:{primary:"","hide-details":""},model:{value:t.selected,callback:function(i){e.$set(t,"selected",i)},expression:"children.selected"}})],1),e._l(e.chlidrenheader,(function(a){return i("td",{key:a.value,staticClass:"text-xs-center"},[Array.isArray(t.item[a.value])?i("table",{staticClass:"tableInside",staticStyle:{margin:"0px auto"}},e._l(t.item[a.value],(function(t,a){return i("tr",{key:a,staticStyle:{"background-color":"transparent !important"}},[e._v("\n                                    "+e._s(t)+"\n                                ")])})),0):e.childformatFields&&e.childformatFields[a.value]?i("span",[e._v(e._s(e.childformatFields[a.value](t.item[a.value])))]):i("span",[e._v(e._s(t.item[a.value]))])])}))],2)]}}],null,!0),model:{value:e.checkedChilrenItem,callback:function(t){e.checkedChilrenItem=t},expression:"checkedChilrenItem"}}):e._e()]}}:null],null,!0),model:{value:e.checkedItem,callback:function(t){e.checkedItem=t},expression:"checkedItem"}}),i("div",{staticClass:"text-xs-right pt-2 pagediv"},[i("div",{staticClass:"rightpage"},[i("v-pagination",{attrs:{length:e.pages,"total-visible":7},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1),i("div",{staticClass:"leftpage"},[i("v-select",{attrs:{items:e.comboboxValues,solo:""},model:{value:e.rowsPerPage,callback:function(t){e.rowsPerPage=t},expression:"rowsPerPage"}})],1),i("div",{staticClass:"clearpage"})])],1)},n=[],l=(i("8f42"),{data:function(){return{pagination:{},checkedItem:[],page:1,rowsPerPage:10,IsLoading:!0,perPage:[10,20,{text:"$vuetify.dataIterator.rowsPerPageAll",value:-1}],activeItem:{},mergeConfig:{},checkedChilrenItem:[],comboboxValues:[5,10,25,50]}},props:{headers:{type:Array,required:!0},childheaders:{type:Array,required:!1},DataSource:{type:Array,required:!0},total:{type:Number,default:1},totalDatas:{type:Number,default:0},ClientPage:{type:Boolean,default:!1},allowActive:{type:Boolean,default:!1},allowActiveChildren:{type:Boolean,default:!1},hideOperation:{type:Boolean,default:!1},search:{type:String,default:""},sort:{type:Boolean,default:!1},formatFields:{type:Object},allowSearch:{type:Boolean,default:!1},childformatFields:{type:Object},btLabel:{type:String,default:""}},computed:{fheader:function(){return this.headers.filter((function(e){return e.value}))},chlidrenheader:function(){return this.childheaders.filter((function(e){return e.value}))},pages:function(){return null==this.pagination.rowsPerPage||null==this.pagination.totalItems?0:Math.ceil(this.total/this.pagination.rowsPerPage)}},watch:{rowsPerPage:{handler:function(e){this.pagination.rowsPerPage&&(this.pagination.rowsPerPage=this.rowsPerPage)},deep:!0},page:{handler:function(e){this.pagination.page&&(1==e&&(this.pagination.page=0),this.pagination.page=this.page)},deep:!0},pagination:{handler:function(e){this.ClientPage||this.page==e.page&&this.rowsPerPage==e.rowsPerPage&&this.initialize()},deep:!0},DataSource:{handler:function(e){this.IsLoading=!1,this.mergeConfig=e.map((function(t,i){var a="keyvalue";return{field:a,index:i,rowspan:e.filter((function(e){return e[a]==t[a]})).length,isHead:0==i||!(e[i-1<0?0:i-1][a]==e[i][a])}}))}},checkedItem:{handler:function(e){this.$emit("changeItems",e)}},checkedChilrenItem:{handler:function(e){console.log(e)}}},methods:{setPage:function(e){this.page=e},setBackground:function(e){return this.activeItem.id&&this.activeItem.id==e.item.id?"secondary":""},setActiveItem:function(e,t,i){this.allowActive&&(this.activeItem=e),t&&(t.expanded=!t.expanded,0==i?(this.unCheckItems(),t.selected||this.setCheckItems(e)):t.selected?this.removeCheckItems(e):this.setCheckItems(e)),this.$emit("setActiveItem",e)},initialize:function(){var e=this;this.$emit("initialize",e.pagination),this.IsLoading=!1},rowClick:function(e){this.$emit("rowClick",e)},unCheckItems:function(){this.checkedItem=[]},removeCheckItems:function(e){for(var t=0;t<this.checkedItem.length;t++)if(e.id==this.checkedItem[t].id){this.checkedItem.splice(t,1);break}},setCheckItems:function(e){this.checkedItem.push(e)},getCheckItems:function(){return this.checkedItem},getChildCheckItem:function(){return this.checkedChilrenItem},unChildCheckItems:function(){this.checkedChilrenItem=[]},rowDbClick:function(e,t){this.$emit("rowDbClick",e),t&&(this.unCheckItems(),this.setCheckItems(e))},getPagination:function(){return this.pagination?{page:this.page,rowsPerPage:this.rowsPerPage}:{page:1,rowsPerPage:10}},getActiveItem:function(){return this.activeItem},addItem:function(e){this.$emit("addItem",e)},removeItem:function(e){this.$emit("removeItem",e)}}}),s=l,c=(i("de37"),i("6691")),o=Object(c["a"])(s,a,n,!1,null,null,null);t["a"]=o.exports},f282:function(e,t,i){}}]);